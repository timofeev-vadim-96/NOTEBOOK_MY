# Kafka

[Назад](./СОБЕСЫ.md)    

> Устройство Kafka в общих чертах?

- Брокеры: Это серверы, на которых работает Kafka. Каждый брокер отвечает за хранение и обработку сообщений.
- Топики: Сообщения в Kafka организованы по темам, называемым топиками. Каждый топик может иметь несколько 
	партиций, что позволяет распределять нагрузку между брокерами и обеспечивать параллельную обработку.
- Партиции: Это подмножества данных внутри топика. Каждая партиция — это упорядоченная последовательность 
	сообщений, которая может быть обработана независимо от других партиций.
- Производители (Producers): Это клиенты, которые отправляют (публикуют) сообщения в топики. Производители 
	могут выбирать, в какую партицию отправить сообщение, основываясь на ключе или других критериях.
- Потребители (Consumers): Это клиенты, которые читают (подписываются на) сообщения из топиков. Потребители 
	могут работать по одиночке или объединяться в группы, чтобы совместно обрабатывать сообщения.
- Группы потребителей: Позволяют нескольким потребителям работать вместе, чтобы обрабатывать сообщения из 
	одного топика.

> Может ли consumer заставить читать из конкретной партиции?

Да. Вместо subscribe, юзать метод assign с указанием конкретной партиции.

> Что из себя представляют партиции в Kafka?

В Kafka партиции используются для разделения сообщений по темам. Каждая тема может иметь несколько партиций, и сообщения, относящиеся к одной теме, распределяются по этим партициям. 

> Может ли консюмер читать из топика сообщения последовательно?  

Нет, нельзя гарантировать последовательное чтение сообщений одним consumer'ом из разных партиций в Kafka.   
* Каждая партиция в Kafka представляет собой упорядоченную очередь сообщений.  
* Внутри одной партиции сообщения гарантированно доставляются и читаются последовательно.
* Однако разные партиции работают независимо друг от друга, для каждой свое смещение (offset) и сообщения из разных партиций могут поступать потребителям в произвольном порядке.
* `Исключение` - наличие одной партиции

```
