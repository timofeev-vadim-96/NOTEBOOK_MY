Преподаватель - Даниил Пилипенко (Директор центра подбора IT-специалистов SymbioWay)

# GIT

### **GitHub** - крупнейший веб-сервис для хостинга IT-проектов и их совместной разработки. Мы используем его для работы с удалёнными репозиториями. 

### **Репозиторий** - это хранилище файлов, поддерживающее версионность (историю сохранений (изменений))

> При первом запуске : 
* git config --global user.name "Your Name"  
* git config --global user.email "your.mail@mail.com"

> Команды для работы с GIT:  
* git init - создать локальный репозиторий
* git status - информация о текущем состоянии
* git checkout 12345 - для перехода в другой коммит (нумерация вызывается из лога, переход возможно осуществеить по первым 4-5 цифрам в логе)  
  * git checkout master/main - выйти в текущей версии (голова)  
  * git checkout -b 'new branch' - выйти из текущей ветки с созданием новой ветки 
* git add hello_world.md - добавить файл "hello_world.md" для отслеживания Git-ом состояния файла и его сохранений в будущем  
  * git add. - добавить все имеющиеся в папке локального репозитория файлы 
* git commit -m "comment" - сохраняет изменения файла (перед этой командой необходимо добавть файл с помощью "add")  
* **git commit -am "comment"** - сразу и добавить файл и закоммитировать его  
* git log - журнал всех изменений (коммитов)  
  * git log --graph - вывести лог коммитов в **графическом** виде  
  * git log origin/new-branch ^new-branch - посмотреть какие изменения были внесены в удаленную ветку при статусе ветки 'local out of date'
* git diff - показать отличия текущего (закомиттированного) состояния файла от предыдущего  
  * git diff 1234 - где 1234 - хэш коммита (локального или удаленного после fetch)
* git branch - вывести все ветки проекта
* git merge name_branch - слияние **текущей** ветки с другой
  * git merge origin/name_branch - слияние после fetch из удаленного репо
  * --allow-unrelated-histories - если проекты не связанны изначально и у них свои истории
* git branch -d name_branch - удалить ветку
* git chechout branch_name - переключиться на другую ветку
* git branch -m new_name - переименовать ветку
  * git branch -m old_name new_name - переименовать удаленно
 

> Команды для работы с удалёнными репозиториями: 

* git clone hyperlink - клонирует удалённый репозиторий в нашу локальную папку на компьютере //для подключения к уже созданному репозиторию
* git remote rm origin - удалить обявленный удаленный репозиторий (origin - его имя)  
* git remote add origin link - установить в локальном репозитории путь к удаленному (origin - имя репо), также можно добавить еще один репо, поменяв имя, например, на vendor
  * git remote add vendor link - добавить другой репо
  * git remote set-url origin link - изменить адрес для репозитория куда пушим, или откуда тянем
  * git remote set-url --push origin link - изменить адрес именно для команды push, также можно сделать для fetch
    * git remote set-url --add --push all new-link - добавить еще один путь для push (может понадобиться сделать два раза, если первая команда перезапишет базовую ссылку для пуша)
* git remote show origin - показывает, какие локальные ветки связанны с ветками удаленного репо
  * напротив веток будет инфа об внесенных изменениях:
    * up to date - локальная соответствует удаленной
    * fast-forwardable - удаленный репо еще не содержит внесенных локальных изменений
    * local out of date - локальная ветка устарела (удаленный репо содержит новую инфу, кто-то внес изменения помимо нас) - далее git fetch - далее git log origin/new-branch ^new-branch - далее git diff 1234(хэш) - git merge хэш-код - git push origin main
* git remote -v - показывает пути к удаленным репозиториям (имя + путь)
* git fetch - скачать из удаленного репо данные в локальный, но сами ветки не обновляем (слияние не происходит)
  * git fetch --all - затянуть изменения из всех удаленных репо в локальный (без слияния)

! После клонирования необходимо перейти в папку скачанного проекта, для этого мы используем команду:  
>cd .\folder - для перехода к скачанному репозиторию  
>cd .. - для перехода выше на одну папку по корневому дереву 

* git push - отправляет файл на удалённый репозиторий  
  * git push -u origin master //origin - имя основного репо, master - конкретная ветка, -u - отслеживание для локальной ветки и удаленной. При дальнейших пушках без указания ветки, будет испльзоваться удаленная ветка, как отслеживаемая для локальной
  * если пушить другую ветку, то указываем тот же origin - т.к. это весь репо:
  git push -u origin another-branch
  * Чтобы запушить сразу в несколько репо: 
  1. создаем новый репо git remote add all(название) link(ссылка одного из уже существующих репо)
  2. git remote set-url --add --push all new-link //add - добавить еще один путь, --push - для команды push, all - имя репо, далее ссылка

* git pull - скачать актуальную версию из удалённого репозитория и замерджить с локальным состоянием файла автоматически
  * git pull origin branch - с указанием конкретной ветки и конкретного репозитория, будет мерджить со связанной или с текущей
* fork (вилка) - на сайте Git, для копирования проекта из чужого репозитория

> Чтобы **игнорировать** перечень файлов:  
Необходимо создать файл **.gitignore** и прописать там файлы, которые необходимо игнорировать  

* Проблема:  
error: remote origin already exists. //возникает, когда уже связались в другим репозиторием(или ссылка URL не соответствет тому, который вписываем)   
  * Решение:  
git remote rm origin // удаляем ссылку на удаленный репозиторий, после чего задаем новую ссылку

---

* Альтернатива GitHub = `GitLab`

Возможности:  
* в настройках удаленного репозитория можно добавлять членов проекта по @mail - для проверки, изменять права доступа и удалять их
* сравнивать два любых коммита
* наглядное визуальное представление репозиториев
* ведения TaskTracker - системы управления задачами 
  * ставить задачи любому члену команды, прикреплять файлы
  * переписка по этим задачам
  * комментарии к задачам
  * изменение статуса задачи
  * перераспределение задач между пользователями
  * привязка задачи к коммиту

Отличия `GitHub` и `GitLab`

| Отличие | GitHub | GitLab | 
|---------|---------|--------|
| Возможность размещения на своем сервере    | нет   | да  |
| Бесплатные возможности для командной работы и DevOps    | нет   | да  |
| Возможность доработок системы    | нет   | да  |

Что выбрать?
- для OpenSource-проектов и личного портфолио - GitHub
- для коммерческих проектов с размещением на собственном сервере - GitLab

> Способы создания удаленного репозитория GitHub:
1. В верхней строке - создать хотя бы один файл и закоммитить его
2. Там же - загрузить хотя бы один файл и закоммитить его
3. ...or create a new repo.... - создание файла README.md на компьютере + пушим его в репозиторий
4. ...or push an existing repo...//самое частое - запушить уже существующий локальный репозиторий

Именование репозиториев Git:  
1. имя папки проекта = имя репозитория. 
2. Заглавные буквы заменяем на строчные. 
3. Пробелы на дефисы

`Конфликты версий Git:`
1. Простые (разрешаются автоматически) //при возникновении ошибки обычно решается с помощью git pull
  * в случаях изменений в файле в разных строках кода
2. Сложные (Могут быть разрешены только вручную) //также делаем pull, в конфликтном файле будет пометка (часть нашего кода + часть кода из коммита в удаленном репо - нужно отредактировать файл по своему усмотрению и запушить)
  * в случаях изменений в одних и тех же строках кода

`Алгоритм решения проблем в Git`
1. Прочитать, что написал Git
2. Понять, что произошло
3.1. Решить проблемы самостоятельно
3.2. Выполнить рекомендации Git

* Чтобы удалить файл в самом репозитории:
заходим в файл - три кнопки - внизу Delete file