# LINUX

Преподаватель GB (Лекции) - Николай Лавлинский    
Преподаватель GB (Семинары) - Сергей Акопян (Яндекс Толока, Яндекс Алиса)

GNU/Linux - объективно, есть смысл использовать только в качестве серверной операционной системы  

Зачем вообще нужен Linux? - из-за тотального доминирования в серверном сегменте:  
● 100% TOP-500 суперкомпьютеров
● 95% самых популярных сайтов
● 90% облачной инфраструктуры
● Стандарт де-факто для
веб-приложений

Assembler - низкроуровневый машинный код  

`Системные вызовы в Linux:`      

● Управление процессами:
○ fork() – создание нового процесса клонированием
○ exec() – запуск программы
○ exit() – завершение программы

● Управление файлами:
○ open() – открыть файл //не имеет значение место хранения файла и его структура  
○ read() – прочитать данные из файла
○ write() – записать данные в файл
○ close() – закрыть файл

`Серверные и настольные системы:` //имеют общее ядро (основа OC) в Linux     

**Серверные (server) ОС**  //у пользователей нет доступа к серверам, за исключением администраторов  
● Платформа для сервисов (веб-сервер,
база данных…).
● Может не иметь графического
интерфейса.
● Имеют высокую стабильность.
● Работает 24/7  

**Настольные (desktop) ОС**  
● Платформа для приложений.
● Имеет графический интерфейс.
● Имеют высокую совместимость с
пользовательским ПО.

UNIX-подобные системы - начиная с 1970г. - движение открытого ПО (хотя изначально создавалось как коммерческий продукт)

Существует несколько диструбутивов Linux:  
1. (Debian (DEB) (DEB - формат упаковки пакетов)) (Debizn - название компании) - `Ubuntu`    
2. (Red hat (RPM)) - `Oracle Linux` 
3. Red hat - `CentOS` 
...

`Ubuntu`:  
1. Server  
1.1 LTS (выходят каждые 2 года) - long term support - гарантированная поддержка системы в течении 5 лет и более, обновление безопасности и свежих версий ПО     
1.2 no LTS (выходят каждые 6 мес) - поддержка порядка 9 мес. 
2. Desktop
2.1 LTS  
2.2 no LTS  

* Чтобы установить Linux OS поверх своей:  
Виртуализация в VirtualBox, например OracleVirtualBox  
● Межплатформенный продукт.
● Требуется поддержка аппаратной виртуализации в CPU.
● Широкие возможности по экспериментам
p.s. Для Mac M1,M2... (M)  не сработает  

Требования к железу для работы/установки VirtualBox:  
● RAM от 2048 MB
● Диск от 20 GB
● Загрузка с установочного ISO //образ оптического диска  

Для MacOS:  
1. https://mac.getutm.app/  - виртуальная машина  
1.1 Или вирт машина Parallels  
2. https://romankurnovskii.com/ru/posts/howto-install-ubuntu-desktop-on-arm/ алгоритм  

- **Для начала работы** необходимо скачать одну из виртуальных машин, затем скачать iso образ одного из дистребьютеров Linus, например, Ubuntu, и создать виртуальную машину с образом Linux.  
---

`Commands:`  
* sudo //запуск от имени администратора  
* sudo apt update //проверяет наличие актуальных версий приложений в пакетном менеджере на сервере  
* sudo apt install gcc make perl - перед началом работы в новой операционке (в виртуал боксе) //это название трех необходимых пакетов для дальнейшей работы (**гостевые пакеты**)
* sudo apt install openssh-server //установка SSH-server 
* sudo ./VBoxLinuxAdditions.run // настройка модулей ядра операционной системы дляработы с Линукс Убунту, оптимизации декстом графики.  
* sudo reboot //перезагрузка операционной системы
* ip a //мой ip
* watch -n 0.5 - выполняет следующую команду, которую написали с интервалом (-n) в 0,5 сек
  * watch -n 0.5 ip a //показывать ip и обновлять каждые 0.5 сек данные 
* mc // запуск миднайт коммандера  
добавить пользователя в качестве администратора:  
1. su
2. usermod -a -G wheel имя_пользователя 

**Дальнейшая настройка**: 
1. Устройства - общий буфер обмена - двунаправленный  // для того, чтобы можно было копировать текст и переносить из одной ОС в другую.  
2. Устройства - общие папки - настройка общих папок. Добавляем папку Загрузки из основной операционной системы для возможности импорта файлов. 
Точка подключения - папка в виртуальной машине (в Ubuntu). Например: /home/vboxuser/windows_dir, где home - папка с домашними директорями всех пользователей, vboxuser - текущий пользователь  
3. Устройства - сеть - настроить сеть - Сетевой мост - для корректного отображения ip (новый - для нашей виртуальной машины, даже ролтер будет видеть как второе устройство) // по новому ip можно подключиться к серверу через ssh   
  * Чтобы подключиться к серверу Ubuntu из Windows:  
  ssh vboxuser@192.168.0.10 // где vboxuser - имя польз., после собаки - ip Unbuntu  
  * Чтобы отключиться в cmd(windows): exit/Ctrl+D 

* Сетевые режимы VitrualBox:  
● Мост (bridge) – ВМ в локальной сети, прямой доступ к ВМ по IP.  
● NAT – ВМ в своей сети, доступ к машине только через проброс портов.  


**Устанавливаем Миднайткомандер (midnight commander)** - Один из файловых менеджеров с текстовым интерфейсом: 
sudo apt install mc  

**чтобы открыть терминал**: Ctrl + Alt + t

**проскролить до пустого экрана**: Ctrl + L  

**копирование и вставка**: Ctrl+Shaft+C и аналог.  

**Чтобы открыть справку по любой утилите, например apt**:  
sudo apt --help  

**Сменить язык в терминале** - https://firstvds.ru/technology/kak-nastroit-podderzhku-russkogo-yazyka-v-terminale-linux  

---